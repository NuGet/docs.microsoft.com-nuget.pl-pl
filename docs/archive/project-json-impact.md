---
title: project.jsna wpływie autorów pakietów NuGet
description: Szczegółowe informacje o tym, jak implementacja project.jsw programie NuGet 3. x ma wpływ na autorów pakietów, takich jak Nieobsługiwane funkcje, zawartość i format pakietu.
author: JonDouglas
ms.author: jodou
ms.date: 01/18/2018
ms.topic: conceptual
ms.openlocfilehash: 82b7ce7962ecccc9559ae25a8fe35a3820238049
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/26/2021
ms.locfileid: "98775387"
---
# <a name="impact-of-projectjson-when-creating-packages"></a><span data-ttu-id="edffd-103">Wpływ project.jspodczas tworzenia pakietów</span><span class="sxs-lookup"><span data-stu-id="edffd-103">Impact of project.json when creating packages</span></span>

> [!Important]
> <span data-ttu-id="edffd-104">Ta zawartość jest przestarzała.</span><span class="sxs-lookup"><span data-stu-id="edffd-104">This content is deprecated.</span></span> <span data-ttu-id="edffd-105">Projekty powinny używać `packages.config` formatów lub PackageReference.</span><span class="sxs-lookup"><span data-stu-id="edffd-105">Projects should use either the `packages.config` or PackageReference formats.</span></span>

<span data-ttu-id="edffd-106">`project.json`System używany w programie NuGet 3 + ma wpływ na autorów pakietów na kilka sposobów, zgodnie z opisem w poniższych sekcjach.</span><span class="sxs-lookup"><span data-stu-id="edffd-106">The `project.json` system used in NuGet 3+ affects package authors in several ways as described in the following sections.</span></span>

## <a name="changes-affecting-existing-packages-usage"></a><span data-ttu-id="edffd-107">Zmiany wpływające na użycie istniejących pakietów</span><span class="sxs-lookup"><span data-stu-id="edffd-107">Changes affecting existing packages usage</span></span>

<span data-ttu-id="edffd-108">Tradycyjne pakiety NuGet obsługują zestaw funkcji, które nie są przenoszone na świecie przechodnie.</span><span class="sxs-lookup"><span data-stu-id="edffd-108">Traditional NuGet packages support a set of features that are not carried over to the transitive world.</span></span>

### <a name="install-and-uninstall-scripts-are-ignored"></a><span data-ttu-id="edffd-109">Skrypty instalacji i dezinstalacji są ignorowane</span><span class="sxs-lookup"><span data-stu-id="edffd-109">Install and uninstall scripts are ignored</span></span>

<span data-ttu-id="edffd-110">Model przywracania przechodniego opisany w temacie [rozpoznawanie zależności](../concepts/dependency-resolution.md#dependency-resolution-with-packagereference)nie ma koncepcji "czas instalacji pakietu".</span><span class="sxs-lookup"><span data-stu-id="edffd-110">The transitive restore model, described in [Dependency resolution](../concepts/dependency-resolution.md#dependency-resolution-with-packagereference), does not have a concept of "package install time".</span></span> <span data-ttu-id="edffd-111">Pakiet jest obecny lub nie istnieje, ale nie ma spójnego procesu, który występuje po zainstalowaniu pakietu.</span><span class="sxs-lookup"><span data-stu-id="edffd-111">A package is either present or not present, but there is no consistent process that occurs when a package is installed.</span></span>

<span data-ttu-id="edffd-112">Ponadto skrypty instalacji były obsługiwane tylko w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="edffd-112">Also, install scripts were supported only in Visual Studio.</span></span> <span data-ttu-id="edffd-113">Inne środowisk IDE musiały zasymulować interfejs API rozszerzalności programu Visual Studio, aby próbować obsługiwać takie skrypty, a żadne wsparcie nie było dostępne w popularnych edytorach i narzędziach wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="edffd-113">Other IDEs had to mock the Visual Studio extensibility API to attempt to support such scripts, and no support was available in common editors and command-line tools.</span></span>

### <a name="content-transforms-are-not-supported"></a><span data-ttu-id="edffd-114">Przekształcenia zawartości nie są obsługiwane</span><span class="sxs-lookup"><span data-stu-id="edffd-114">Content transforms are not supported</span></span>

<span data-ttu-id="edffd-115">Podobnie jak w przypadku instalacji skryptów, przekształcenia są uruchamiane podczas instalacji pakietu i nie są zwykle idempotentne.</span><span class="sxs-lookup"><span data-stu-id="edffd-115">Similar to install scripts, transforms run on package install and are typically not idempotent.</span></span> <span data-ttu-id="edffd-116">Ponieważ nie ma już czasu instalacji, XDT przekształcenia i podobne funkcje nie są obsługiwane i są ignorowane, jeśli taki pakiet jest używany w scenariuszu przechodnim.</span><span class="sxs-lookup"><span data-stu-id="edffd-116">Since there is no install time anymore, XDT Transform and similar features are not supported, and are ignored if such a package is used in a transitive scenario.</span></span>

### <a name="content"></a><span data-ttu-id="edffd-117">Zawartość</span><span class="sxs-lookup"><span data-stu-id="edffd-117">Content</span></span>

<span data-ttu-id="edffd-118">Tradycyjne pakiety NuGet to wysyłanie plików zawartości, takich jak kod źródłowy i pliki konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="edffd-118">Traditional NuGet packages are shipping content files such as source code and configuration files.</span></span> <span data-ttu-id="edffd-119">Są zwykle używane w dwóch scenariuszach:</span><span class="sxs-lookup"><span data-stu-id="edffd-119">There are used typically in two scenarios:</span></span>

1. <span data-ttu-id="edffd-120">Początkowe pliki zostały opuszczone do projektu, dzięki czemu użytkownik może je edytować w późniejszym czasie.</span><span class="sxs-lookup"><span data-stu-id="edffd-120">Initial files dropped into the project so the user can edit them at a later time.</span></span> <span data-ttu-id="edffd-121">Typowym przykładem są domyślne pliki konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="edffd-121">The common example is default configuration files.</span></span>

1. <span data-ttu-id="edffd-122">Pliki zawartości używane jako pomocniki do zestawów zainstalowanych w projekcie.</span><span class="sxs-lookup"><span data-stu-id="edffd-122">Content files used as companions to the assemblies installed in the project.</span></span> <span data-ttu-id="edffd-123">Przykładem może być obraz logo używany przez zestaw.</span><span class="sxs-lookup"><span data-stu-id="edffd-123">The example here would be a logo image used by an assembly.</span></span>

<span data-ttu-id="edffd-124">Obsługa zawartości jest obecnie wyłączona dla podobnych przyczyn dotyczących skryptów i transformacji, ale jesteśmy w trakcie projektowania obsługi zawartości.</span><span class="sxs-lookup"><span data-stu-id="edffd-124">Support for content is currently disabled for similar reasons for scripts and transforms, but we are in the process of designing support for content.</span></span>

<span data-ttu-id="edffd-125">Pliki zawartości nadal mogą być przenoszone w pakietach i są obecnie ignorowane, jednak użytkownik końcowy nadal może skopiować je do odpowiednich miejsc.</span><span class="sxs-lookup"><span data-stu-id="edffd-125">Content files can still be carried inside the packages, and are ignored currently, however the end user can still copy them into the right spot.</span></span>

<span data-ttu-id="edffd-126">Możesz zobaczyć jedną z propozycji do przenoszenia plików zawartości i postępować zgodnie z postępem, tutaj: [https://github.com/NuGet/Home/issues/627](https://github.com/NuGet/Home/issues/627) .</span><span class="sxs-lookup"><span data-stu-id="edffd-126">You can see one of the proposals for bringing back content files, and follow its progress, here: [https://github.com/NuGet/Home/issues/627](https://github.com/NuGet/Home/issues/627).</span></span>

## <a name="impact-for-package-authors"></a><span data-ttu-id="edffd-127">Wpływ na autorów pakietów</span><span class="sxs-lookup"><span data-stu-id="edffd-127">Impact for package authors</span></span>

<span data-ttu-id="edffd-128">Pakiety korzystające z powyższych funkcji będą musiały korzystać z innego mechanizmu.</span><span class="sxs-lookup"><span data-stu-id="edffd-128">Packages using the above features would have to use a different mechanism.</span></span> <span data-ttu-id="edffd-129">Najczęściej używanym mechanizmem jest to, że elementy docelowe i właściwości programu MSBuild, które nadal są w pełni obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="edffd-129">The most commonly useful mechanism for this would be the MSBuild targets/props that continues to get fully supported.</span></span> <span data-ttu-id="edffd-130">System kompilacji może wybrać inne konwencje w pakiecie.</span><span class="sxs-lookup"><span data-stu-id="edffd-130">The build system can choose to pick up other conventions in the package.</span></span> <span data-ttu-id="edffd-131">Jest to sposób, w jaki elementy docelowe programu MSBuild są obsługiwane, a także analizatory Roslyn.</span><span class="sxs-lookup"><span data-stu-id="edffd-131">This is how MSBuild targets are supported as well as Roslyn analyzers.</span></span> <span data-ttu-id="edffd-132">Istnieje możliwość kompilowania pakietów, które obsługują obiekty docelowe i analizatory dla `packages.config` i `project.json` scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="edffd-132">It is possible to build packages that supports targets and analyzers for `packages.config` and `project.json` scenarios.</span></span>

<span data-ttu-id="edffd-133">Pakiety próbujące zmodyfikować projekt w celu ułatwienia uruchamiania zwykle działają w bardzo ograniczonym zestawie scenariuszy i powinny zawierać plik Readme lub wskazówki dotyczące sposobu korzystania z pakietu.</span><span class="sxs-lookup"><span data-stu-id="edffd-133">Packages that attempt to modify the project to ease startup typically work in a very limited set of scenarios, and should instead provide a readme, or guidance on how to use the package.</span></span>

<span data-ttu-id="edffd-134">W przypadku większości istniejących pakietów nie należy używać formatu pakietu opisanego poniżej.</span><span class="sxs-lookup"><span data-stu-id="edffd-134">Most existing packages should not need to use the package format described below.</span></span>

<span data-ttu-id="edffd-135">Format umożliwia zawartości natywnej jako scenariusza pierwszej klasy.</span><span class="sxs-lookup"><span data-stu-id="edffd-135">The format enables native content as a first class scenario.</span></span> <span data-ttu-id="edffd-136">Oznacza to, że zarządzane zestawy są zależne od implementacji sprzętowych, aby dostarczać implementacje binarne wraz z zestawami zarządzanymi opartymi na platformie docelowej.</span><span class="sxs-lookup"><span data-stu-id="edffd-136">This means that managed assemblies depend on close to hardware implementations to ship binary implementations alongside the managed assemblies based on the target platform.</span></span> <span data-ttu-id="edffd-137">Na przykład pakiet System. IO. Compression korzysta z tej technologii.</span><span class="sxs-lookup"><span data-stu-id="edffd-137">For example System.IO.Compression package is utilizing this technology.</span></span> [https://www.nuget.org/packages/System.IO.Compression](https://www.nuget.org/packages/System.IO.Compression)

<span data-ttu-id="edffd-138">Podsumowując, jeśli powyższe funkcje nie są absolutnie niezbędne, zalecamy naklejenie w istniejącym formacie pakietu, ponieważ format opisany tutaj jest obsługiwany tylko przez program NuGet 3. x +.</span><span class="sxs-lookup"><span data-stu-id="edffd-138">In summary if the functionality above is not absolutely necessary, we recommend sticking with the existing package format, as the format described here is supported only by NuGet 3.x+.</span></span>

<span data-ttu-id="edffd-139">Możliwe jest skompilowanie pakietów do pracy w ramach obu `packages.config` `project.json` scenariuszy za pomocą zastępowanie podkładką:, jednak często prostsze jest jedynie struktury pakietów w tradycyjny sposób, bez przestarzałych funkcji wymienionych powyżej.</span><span class="sxs-lookup"><span data-stu-id="edffd-139">It would be possible to build packages to work for both `packages.config` and `project.json` scenarios through shimming, however it's often simpler to just structure the packages the traditional way, without the deprecated features mentioned above.</span></span>

## <a name="3x-package-format"></a><span data-ttu-id="edffd-140">format pakietu 3. x</span><span class="sxs-lookup"><span data-stu-id="edffd-140">3.x package format</span></span>

<span data-ttu-id="edffd-141">Format pakietu 3. x umożliwia korzystanie z kilku dodatkowych funkcji poza pakietem NuGet 2. x:</span><span class="sxs-lookup"><span data-stu-id="edffd-141">The 3.x package format allows for several additional features beyond NuGet 2.x:</span></span>

1. <span data-ttu-id="edffd-142">Definiowanie zestawu odwołania używanego do kompilowania i zestawu zestawów implementacji używanych do środowiska uruchomieniowego na różnych platformach/urządzeniach.</span><span class="sxs-lookup"><span data-stu-id="edffd-142">Defining a reference assembly used for compilation and a set of implementation assemblies used for runtime on different platforms/devices.</span></span> <span data-ttu-id="edffd-143">Dzięki temu można korzystać z interfejsów API specyficznych dla platformy, jednocześnie zapewniając wspólną powierzchnię dla klientów.</span><span class="sxs-lookup"><span data-stu-id="edffd-143">Which allows you to take advantage of platform specific APIs while providing a common surface area for your consumers.</span></span> <span data-ttu-id="edffd-144">W ten sposób pisanie pośrednich bibliotek przenośnych jest łatwiejsze.</span><span class="sxs-lookup"><span data-stu-id="edffd-144">Specifically this makes writing intermediate portable libraries easier.</span></span>

1. <span data-ttu-id="edffd-145">Umożliwia umieszczanie pakietów na platformach, np. w systemach operacyjnych lub architekturach procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="edffd-145">Allows packages to pivot on platforms e.g. operating systems or CPU architecture.</span></span>

1. <span data-ttu-id="edffd-146">Umożliwia rozdzielenie implementacji specyficznych dla platformy na pakiety pomocnika.</span><span class="sxs-lookup"><span data-stu-id="edffd-146">Allows for separation of platform specific implementations to companion packages.</span></span>

1. <span data-ttu-id="edffd-147">Obsługa natywnych zależności jako obywatela pierwszej klasy.</span><span class="sxs-lookup"><span data-stu-id="edffd-147">Support Native dependencies as a first class citizen.</span></span>
