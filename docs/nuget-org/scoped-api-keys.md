---
title: O określonym zakresie klucze interfejsu API
description: Przejmij kontrolę nad kluczy interfejsu API, które umożliwia wypychanie pakietów
author: mikejo5000
ms.author: mikejo
ms.date: 06/04/2019
ms.topic: conceptual
ms.openlocfilehash: 12d12d5294a474c4d3e4f5d3cad468bb515d21d5
ms.sourcegitcommit: b6810860b77b2d50aab031040b047c20a333aca3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/28/2019
ms.locfileid: "67427501"
---
# <a name="scoped-api-keys"></a><span data-ttu-id="4a7b4-103">O określonym zakresie klucze interfejsu API</span><span class="sxs-lookup"><span data-stu-id="4a7b4-103">Scoped API keys</span></span>

<span data-ttu-id="4a7b4-104">Aby NuGet bezpieczniejsze środowisko do dystrybucji pakietów, może potrwać kontrolę nad kluczami interfejsu API przez dodanie zakresów.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-104">To make NuGet a more secure environment for package distribution, you can take control of the API keys by adding scopes.</span></span>

<span data-ttu-id="4a7b4-105">Możliwość zapewnienia zakresu, aby zachować klucze interfejsu API zapewniają lepszą kontrolę w interfejsach API.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-105">The ability to provide scope to your API keys give you better control on your APIs.</span></span> <span data-ttu-id="4a7b4-106">Można:</span><span class="sxs-lookup"><span data-stu-id="4a7b4-106">You can:</span></span>

- <span data-ttu-id="4a7b4-107">Utwórz wiele o określonym zakresie, które mogą służyć do różnych pakietach przy użyciu różnych harmonogramów wygaśnięcia kluczy interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-107">Create multiple scoped API keys that can be used for different packages with varying expiration timeframes.</span></span>
- <span data-ttu-id="4a7b4-108">Bezpieczne uzyskanie kluczy interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-108">Obtain API keys securely.</span></span>
- <span data-ttu-id="4a7b4-109">Edytuj istniejących kluczy interfejsu API można zmienić stosowania pakietu.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-109">Edit existing API keys to change package applicability.</span></span>
- <span data-ttu-id="4a7b4-110">Odśwież lub usunięcie istniejących kluczy interfejsu API bez zakłócania operacji przy użyciu innych kluczy.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-110">Refresh or delete existing API keys without hampering operations using other keys.</span></span>

## <a name="why-do-we-support-scoped-api-keys"></a><span data-ttu-id="4a7b4-111">Dlaczego firma Microsoft obsługuje o określonym zakresie klucze interfejsu API?</span><span class="sxs-lookup"><span data-stu-id="4a7b4-111">Why do we support scoped API keys?</span></span>

<span data-ttu-id="4a7b4-112">Firma Microsoft obsługuje zakresów dla kluczy interfejsu API, które umożliwiają bardziej szczegółowych uprawnień.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-112">We support scopes for API keys to allow you to have more fine-grained permissions.</span></span> <span data-ttu-id="4a7b4-113">Wcześniej NuGet oferowane jednego klucza interfejsu API dla konta, a takie podejście ma kilka wady:</span><span class="sxs-lookup"><span data-stu-id="4a7b4-113">Previously, NuGet offered a single API key for an account, and that approach had several drawbacks:</span></span>

- <span data-ttu-id="4a7b4-114">**Jeden klucz interfejsu API do kontrolowania wszystkich pakietów**.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-114">**One API key to control all packages**.</span></span> <span data-ttu-id="4a7b4-115">Przy użyciu jednego klucza interfejsu API, który służy do zarządzania wszystkich pakietów trudno jest bezpiecznie udostępniaj klucza w przypadku wielu deweloperów związane z różnych pakietach, a po udostępnieniu konta wydawcy.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-115">With a single API key that is used to manage all packages, it is difficult to securely share the key when multiple developers are involved with different packages, and when they share a publisher account.</span></span>
- <span data-ttu-id="4a7b4-116">**Wszystkie uprawnienia lub Brak**.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-116">**All permissions or none**.</span></span> <span data-ttu-id="4a7b4-117">Każda osoba mająca dostęp do klucza interfejsu API ma wszystkie uprawnienia (publikowania, wypychania i un-list) o pakiety.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-117">Anyone with access to the API key has all permissions (publish, push and un-list) on the packages.</span></span> <span data-ttu-id="4a7b4-118">Często nie jest to pożądane w środowisku z wieloma zespołami.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-118">This is often not desirable in environment with multiple teams.</span></span>
- <span data-ttu-id="4a7b4-119">**Pojedynczy punkt awarii**.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-119">**Single point of failure**.</span></span> <span data-ttu-id="4a7b4-120">Jeden klucz interfejsu API oznacza również pojedynczy punkt awarii.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-120">A single API key also means a single point of failure.</span></span> <span data-ttu-id="4a7b4-121">Jeśli klucz zostanie naruszony, wszystkie pakiety skojarzone z kontem może być potencjalnie zagrożone.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-121">If the key is compromised, all packages associated with the account could potentially be compromised.</span></span> <span data-ttu-id="4a7b4-122">Odświeżanie klucza interfejsu API jest jedynym sposobem, aby podłączyć przecieku i uniknąć przerw w działaniu przepływu pracy ciągłej integracji/ciągłego wdrażania.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-122">Refreshing the API key is the only way to plug the leak and avoid an interruption to your CI/CD workflow.</span></span> <span data-ttu-id="4a7b4-123">Ponadto można wykluczyć sytuacji, gdy chcesz odwołać dostęp do klucza interfejsu API dla poszczególnych (na przykład, gdy pracownik odejdzie z organizacji).</span><span class="sxs-lookup"><span data-stu-id="4a7b4-123">In addition, there may be cases when you want to revoke access to the API key for an individual (for example, when an employee leaves the organization).</span></span> <span data-ttu-id="4a7b4-124">Nie ma eleganckie rozwiązanie do obsługi to już dziś.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-124">There isn’t a clean way to handle this today.</span></span>

<span data-ttu-id="4a7b4-125">Z kluczami interfejsu API o określonym zakresie podejmowane są próby zająć tymi problemami, pamiętając, Podziel przez żaden z istniejącymi przepływami pracy.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-125">With scoped API keys, we try to address these problems while making sure that none of the existing workflows break.</span></span>

## <a name="acquire-an-api-key"></a><span data-ttu-id="4a7b4-126">Uzyskiwanie klucza interfejsu API</span><span class="sxs-lookup"><span data-stu-id="4a7b4-126">Acquire an API key</span></span>

[!INCLUDE [publish-api-key](../quickstart/includes/publish-api-key.md)]

## <a name="create-scoped-api-keys"></a><span data-ttu-id="4a7b4-127">Tworzenie zakresu kluczy interfejsu API</span><span class="sxs-lookup"><span data-stu-id="4a7b4-127">Create scoped API keys</span></span>

<span data-ttu-id="4a7b4-128">Możesz utworzyć wiele kluczy interfejsu API, w zależności od wymagań.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-128">You can create multiple API keys based on your requirements.</span></span> <span data-ttu-id="4a7b4-129">Klucza interfejsu API można zastosować do co najmniej jeden pakiet, mają różne zakresy, których przyznać określone uprawnienia i mają datę wygaśnięcia skojarzonych z nim.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-129">An API key can apply to one or more packages, have varying scopes that grant specific privileges, and have an expiration date associated with it.</span></span>

<span data-ttu-id="4a7b4-130">W poniższym przykładzie, masz klucz interfejsu API o nazwie `Contoso service CI` można wypchnąć pakietów dla określonego `Contoso.Service` pakietów i jest ważny przez 365 dni.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-130">In the following example, you have an API key named `Contoso service CI` that can be used to push packages for specific `Contoso.Service` packages, and is valid for 365 days.</span></span> <span data-ttu-id="4a7b4-131">Jest to typowy scenariusz, gdzie znajdują się klucz, który przyznaje im uprawnienia tylko do pakietu, który pracuje nad zespołów w obrębie tej samej organizacji pracy w różnych pakietach i członków zespołu.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-131">This is a typical scenario where different teams within the same organization work on different packages, and the members of the team are provided the key that grants them privileges only for the package they are working on.</span></span> <span data-ttu-id="4a7b4-132">Czas wygaśnięcia służy jako mechanizm, aby zapobiec starych lub zapomniane kluczy.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-132">The expiration serves as a mechanism to prevent stale or forgotten keys.</span></span>

![Tworzenie kluczy interfejsu API](media/scoped-api-keys-create-new.png)

## <a name="use-glob-patterns"></a><span data-ttu-id="4a7b4-134">Użycie glob wzorców</span><span class="sxs-lookup"><span data-stu-id="4a7b4-134">Use glob patterns</span></span>

<span data-ttu-id="4a7b4-135">Jeśli pracujesz na wielu pakietów, dużej listy pakietów do zarządzania można Użyj wzorców obsługi symboli wieloznacznych, aby wybrać wiele pakietów ze sobą.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-135">If you are working on multiple packages and have a large list of packages to manage, you can choose to use globbing patterns to select multiple packages together.</span></span> <span data-ttu-id="4a7b4-136">Na przykład, jeśli użytkownik chce udzielić określonych zakresów do klucza dla wszystkich pakietów którego Identyfikatora rozpoczyna się od ciągu `Fabrikam.Service`, można to zrobić, określając `fabrikam.service.*` w **wzorzec Glob** pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-136">For example, if you wish to grant specific scopes to a key for all packages whose ID starts with `Fabrikam.Service`, you could do this by specifying `fabrikam.service.*` in the **Glob pattern** text box.</span></span>

![Tworzenie kluczy interfejsu API](media/scoped-api-keys-glob-pattern.png)

<span data-ttu-id="4a7b4-138">Przy użyciu wzorców glob, aby określić uprawnienia klucza interfejsu API dotyczy także nowe pakiety pasujących do wzorca glob.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-138">Using glob patterns to determine API key permissions also applies to new packages matching the glob pattern.</span></span> <span data-ttu-id="4a7b4-139">Na przykład, Jeśli spróbujesz wypchnąć nowy pakiet o nazwie `Fabrikam.Service.Framework`, możesz to zrobić przy użyciu klucza został wcześniej utworzony, ponieważ pakiet jest zgodny ze wzorcem glob `fabrikam.service.*`.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-139">For example, if you try to push a new package named `Fabrikam.Service.Framework`, you can do that with the key created previously, since the package matches the glob pattern `fabrikam.service.*`.</span></span>

## <a name="obtain-api-keys-securely"></a><span data-ttu-id="4a7b4-140">Bezpieczne uzyskanie kluczy interfejsu API</span><span class="sxs-lookup"><span data-stu-id="4a7b4-140">Obtain API keys securely</span></span>

<span data-ttu-id="4a7b4-141">Dla bezpieczeństwa nowo utworzony klucz nigdy nie są wyświetlane na ekranie i jest tylko dostępne za pośrednictwem **kopiowania** przycisku.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-141">For security, a newly created key is never shown on the screen and is only available using the **Copy** button.</span></span> <span data-ttu-id="4a7b4-142">Podobnie klucz nie jest dostępny po odświeżeniu strony.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-142">Similarly, the key is not accessible after the page is refreshed.</span></span>

![Tworzenie kluczy interfejsu API](media/scoped-api-keys-obtain-keys.png)

## <a name="edit-existing-api-keys"></a><span data-ttu-id="4a7b4-144">Edytuj istniejących kluczy interfejsu API</span><span class="sxs-lookup"><span data-stu-id="4a7b4-144">Edit existing API keys</span></span>

<span data-ttu-id="4a7b4-145">Można również zaktualizować uprawnienia klucza i zakresy bez wprowadzania zmian w samych kluczy.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-145">You may also want to update the key permissions and scopes without changing the key itself.</span></span> <span data-ttu-id="4a7b4-146">Jeśli masz klucz o określone zakresy dla jednego pakietu, można zastosować ten sam zakresy na jednej lub wielu pakietów.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-146">If you have a key with specific scope(s) for a single package, you can choose to apply the same scope(s) on one or many other packages.</span></span>

![Tworzenie kluczy interfejsu API](media/scoped-api-keys-edit.png)

## <a name="refresh-or-delete-existing-api-keys"></a><span data-ttu-id="4a7b4-148">Odśwież lub usuń istniejące klucze interfejsu API</span><span class="sxs-lookup"><span data-stu-id="4a7b4-148">Refresh or delete existing API keys</span></span>

<span data-ttu-id="4a7b4-149">Właściciel konta może wybrać, aby odświeżyć klucz, w którym to przypadku uprawnienia (pakiety), zakresu i wygaśnięcia pozostają takie same, ale wystawiono nowy klucz, co stary klucz nienadające się do użytku.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-149">The account owner can choose to refresh the key, in which case the permission (on packages), scope, and expiry remain the same, but a new key is issued making the old key unusable.</span></span> <span data-ttu-id="4a7b4-150">Jest to przydatne w zarządzaniu starych kluczy lub w przypadku, gdy wszelkie ryzyko wycieku klucza interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-150">This is helpful in managing stale keys or where there is any potential for an API key leakage.</span></span>

![Tworzenie kluczy interfejsu API](media/scoped-api-keys-refresh.png)

<span data-ttu-id="4a7b4-152">Można również usunąć te klucze, jeśli nie są już potrzebne.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-152">You may also choose to delete these keys if they are not needed anymore.</span></span> <span data-ttu-id="4a7b4-153">Usuwanie klucza powoduje usunięcie klucza i sprawia, że korzystanie z niej.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-153">Deleting a key removes the key and makes it unusable.</span></span>

## <a name="faqs"></a><span data-ttu-id="4a7b4-154">Często zadawane pytania</span><span class="sxs-lookup"><span data-stu-id="4a7b4-154">FAQs</span></span>

### <a name="what-happens-to-my-old-legacy-api-key"></a><span data-ttu-id="4a7b4-155">Co stanie się Moje starych (starszych) klucz interfejsu API?</span><span class="sxs-lookup"><span data-stu-id="4a7b4-155">What happens to my old (legacy) API key?</span></span>

<span data-ttu-id="4a7b4-156">Stary klucz interfejsu API (starsza wersja) w dalszym ciągu działać i może pracować tak długo, jak chcesz, aby pracować.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-156">Your old API key (legacy) continues to work and can work as long as you want it to work.</span></span> <span data-ttu-id="4a7b4-157">Jednak te klucze zostaną wycofane, jeśli nie były używane przez więcej niż 365 dni do wypychania pakietu.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-157">However, these keys will be retired if they have not been used for more than 365 days to push a package.</span></span> <span data-ttu-id="4a7b4-158">Aby uzyskać więcej informacji, zobacz wpis w blogu [zmieni się na wygasających kluczy interfejsu API](https://blog.nuget.org/20160825/Changes-to-Expiring-API-Keys.html).</span><span class="sxs-lookup"><span data-stu-id="4a7b4-158">For more details, see the blog post [Changes to expiring API keys](https://blog.nuget.org/20160825/Changes-to-Expiring-API-Keys.html).</span></span> <span data-ttu-id="4a7b4-159">Nie można odświeżyć tego klucza.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-159">You can no longer refresh this key.</span></span> <span data-ttu-id="4a7b4-160">Musisz usunąć starszy klucz i zamiast tego utwórz nowy klucz o określonym zakresie.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-160">You need to delete the legacy key and create a new scoped key instead.</span></span>

> [!NOTE]
> <span data-ttu-id="4a7b4-161">Ten klucz ma wszystkie uprawnienia na wszystkich pakietów i nigdy nie wygasa.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-161">This key has all permissions on all the packages and it never expires.</span></span> <span data-ttu-id="4a7b4-162">Należy rozważyć usunięcie tego klucza, a następnie tworzenia nowych kluczy z zakresu uprawnień i utraty ważności określony.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-162">You should consider deleting this key and creating new keys with scoped permissions and definite expiry.</span></span>

### <a name="how-many-api-keys-can-i-create"></a><span data-ttu-id="4a7b4-163">Jak wiele kluczy interfejsu API można utworzyć?</span><span class="sxs-lookup"><span data-stu-id="4a7b4-163">How many API keys can I create?</span></span>

<span data-ttu-id="4a7b4-164">Nie ma żadnego limitu liczby kluczy interfejsu API, które można utworzyć.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-164">There is no limit on the number of API keys you can create.</span></span> <span data-ttu-id="4a7b4-165">Jednak zaleca się można zachować w zarządzaniu liczby tak, aby nie znajdą posiadanie wielu starych kluczy nie wie, gdzie i kto korzysta z nich.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-165">However, we advise you to keep it to a manageable count so that you do not end up having many stale keys with no knowledge of where and who is using them.</span></span>

### <a name="can-i-delete-my-legacy-api-key-or-discontinue-using-now"></a><span data-ttu-id="4a7b4-166">Czy mogę usunąć mój starszy klucz interfejsu API lub zaprzestać używania teraz?</span><span class="sxs-lookup"><span data-stu-id="4a7b4-166">Can I delete my legacy API key or discontinue using now?</span></span>

<span data-ttu-id="4a7b4-167">Tak.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-167">Yes.</span></span> <span data-ttu-id="4a7b4-168">Możesz — i prawdopodobnie Usuń starszy klucz interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-168">You can--and you probably should--delete your legacy API key.</span></span>

### <a name="can-i-get-back-my-api-key-that-i-deleted-by-mistake"></a><span data-ttu-id="4a7b4-169">Czy mogę wrócić mój klucz interfejsu API, który został usunięty przez pomyłkę?</span><span class="sxs-lookup"><span data-stu-id="4a7b4-169">Can I get back my API key that I deleted by mistake?</span></span>

<span data-ttu-id="4a7b4-170">Nie.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-170">No.</span></span> <span data-ttu-id="4a7b4-171">Po usunięciu może tylko tworzyć nowe klucze.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-171">Once deleted, you can only create new keys.</span></span> <span data-ttu-id="4a7b4-172">Możliwe przypadkowo usuniętych kluczy jest brak odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-172">There is no recovery possible for accidentally deleted keys.</span></span>

### <a name="does-the-old-api-key-continue-to-work-upon-api-key-refresh"></a><span data-ttu-id="4a7b4-173">Stary klucz interfejsu API będzie działać podczas odświeżania klucza interfejsu API?</span><span class="sxs-lookup"><span data-stu-id="4a7b4-173">Does the old API key continue to work upon API key refresh?</span></span>

<span data-ttu-id="4a7b4-174">Nie.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-174">No.</span></span> <span data-ttu-id="4a7b4-175">Po odświeżeniu klucz pobiera wygenerowany nowy klucz, który ma ten sam zakres, uprawnienia i wygaśnięcia jak stary.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-175">Once you refresh a key, a new key gets generated that has the same scope, permission, and expiry as the old one.</span></span> <span data-ttu-id="4a7b4-176">Stary klucz przestanie istnieć.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-176">The old key ceases to exist.</span></span>

### <a name="can-i-give-more-permissions-to-an-existing-api-key"></a><span data-ttu-id="4a7b4-177">Można podać więcej uprawnień do istniejącego klucza interfejsu API?</span><span class="sxs-lookup"><span data-stu-id="4a7b4-177">Can I give more permissions to an existing API key?</span></span>

<span data-ttu-id="4a7b4-178">Nie można modyfikować zakres, ale można edytować listy pakietów, które ma zastosowanie do.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-178">You cannot modify the scope, but you can edit the package list it is applicable to.</span></span>

### <a name="how-do-i-know-if-any-of-my-keys-expired-or-are-getting-expired"></a><span data-ttu-id="4a7b4-179">Jak sprawdzić, dowolny Moje klucze wygasła lub pobierania wygasł?</span><span class="sxs-lookup"><span data-stu-id="4a7b4-179">How do I know if any of my keys expired or are getting expired?</span></span>

<span data-ttu-id="4a7b4-180">Jeśli dowolny klawisz, wygaśnie, firma Microsoft powiadomi Cię za pośrednictwem komunikat ostrzegawczy w górnej części strony.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-180">If any key expires, we will let you know through a warning message at the top of the page.</span></span> <span data-ttu-id="4a7b4-181">Ponadto wprowadzono wysyłanie wiadomości e-mail z ostrzeżenie do właściciela konta dziesięć dni przed wygaśnięciem klucza, dzięki czemu może działać na nim również z wyprzedzeniem.</span><span class="sxs-lookup"><span data-stu-id="4a7b4-181">We also send a warning e-mail to the account holder ten days before the expiration of the key so that you can act on it well in advance.</span></span>