---
title: Co się stanie, gdy jest zainstalowany pakiet?
description: Szczegółowe informacje na temat procesu instalacji pakietu
author: karann-msft
ms.author: karann
ms.date: 06/20/2019
ms.topic: conceptual
ms.openlocfilehash: 5676239bedb7f8fbe9f74725864afd297405d5c1
ms.sourcegitcommit: 0dea3b153ef823230a9d5f38351b7cef057cb299
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/12/2019
ms.locfileid: "67842334"
---
# <a name="what-happens-when-a-nuget-package-is-installed"></a><span data-ttu-id="2ceef-103">Co się dzieje po zainstalowaniu pakietu NuGet?</span><span class="sxs-lookup"><span data-stu-id="2ceef-103">What happens when a NuGet package is installed?</span></span>

<span data-ttu-id="2ceef-104">Był wyświetlany różne narzędzia NuGet zazwyczaj utworzyć odwołanie do pakietu w pliku projektu lub `packages.config`, następnie wykonać przywracania pakietów skuteczne pakiet zostanie zainstalowany.</span><span class="sxs-lookup"><span data-stu-id="2ceef-104">Simply said, the different NuGet tools typically create a reference to a package in the project file or `packages.config`, then perform a package restore, which effectively installs the package.</span></span> <span data-ttu-id="2ceef-105">Wyjątek stanowi `nuget install`, który rozwija tylko pakiet do `packages` folder i wszystkie inne pliki nie powoduje modyfikacji.</span><span class="sxs-lookup"><span data-stu-id="2ceef-105">The exception is `nuget install`, which only expands the package into a `packages` folder and does not modify any other files.</span></span>

<span data-ttu-id="2ceef-106">Ogólny proces jest następująca:</span><span class="sxs-lookup"><span data-stu-id="2ceef-106">The general process is as follows:</span></span>

1. <span data-ttu-id="2ceef-107">(Wszystkie narzędzia, z wyjątkiem `nuget.exe`) Zapisz identyfikator pakietu i wersję do pliku projektu lub `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="2ceef-107">(All tools except `nuget.exe`) Record the package identifier and version into the project file or `packages.config`.</span></span>

   <span data-ttu-id="2ceef-108">Jeśli narzędzie instalacji programu Visual Studio lub wiersz polecenia dotnet, narzędzie najpierw próbuje zainstalować pakiet.</span><span class="sxs-lookup"><span data-stu-id="2ceef-108">If the installation tool is Visual Studio or the dotnet CLI, the tool first attempts to install the package.</span></span> <span data-ttu-id="2ceef-109">Jeśli jest niezgodna, pakiet nie jest dodawany do pliku projektu lub `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="2ceef-109">If it's incompatible, the package is not added to the project file or `packages.config`.</span></span>

2. <span data-ttu-id="2ceef-110">Pobieranie pakietu:</span><span class="sxs-lookup"><span data-stu-id="2ceef-110">Acquire the package:</span></span>
   - <span data-ttu-id="2ceef-111">Sprawdź, czy pakiet (przez dokładny identyfikator oraz numer wersji) jest już zainstalowany w *globalnymi pakietami* folderu zgodnie z opisem na [Zarządzanie globalnymi pakietami i folderami pamięci podręcznej](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="2ceef-111">Check if the package (by exact identifer and version number) is already installed in the *global-packages* folder as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

   - <span data-ttu-id="2ceef-112">Jeśli pakiet nie znajduje się w *globalnymi pakietami* folderze próbują pobrać go ze źródeł wymienione na liście [pliki konfiguracyjne](../consume-packages/Configuring-NuGet-Behavior.md).</span><span class="sxs-lookup"><span data-stu-id="2ceef-112">If the package is not in the *global-packages* folder, attempt to retrieve it from the sources listed listed in the [configuration files](../consume-packages/Configuring-NuGet-Behavior.md).</span></span> <span data-ttu-id="2ceef-113">Dla źródeł online próbował najpierw Pobierz pakiet z pamięci podręcznej HTTP, chyba że `-NoCache` jest określony za pomocą `nuget.exe` poleceń lub `--no-cache` jest określony za pomocą `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="2ceef-113">For online sources, attempt first to retrieve the package from the HTTP cache unless `-NoCache` is specified with `nuget.exe` commands or `--no-cache` is specified with `dotnet restore`.</span></span> <span data-ttu-id="2ceef-114">(Visual Studio i `dotnet add package` zawsze używać pamięci podręcznej.) Jeśli pakiet jest używany z pamięci podręcznej, "Pamięć PODRĘCZNĄ" pojawia się w danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="2ceef-114">(Visual Studio and `dotnet add package` always use the cache.) If a package is used from the cache, "CACHE" appears in the output.</span></span> <span data-ttu-id="2ceef-115">Pamięć podręczna zawiera 30-minutowy czas wygaśnięcia.</span><span class="sxs-lookup"><span data-stu-id="2ceef-115">The cache has an expiration time of 30 minutes.</span></span>

   - <span data-ttu-id="2ceef-116">Pakiet nie jest w pamięci podręcznej HTTP, próba go pobrać ze źródła wymienione w konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="2ceef-116">If the package is not in the HTTP cache, attempt to download it from the sources listed in the configuration.</span></span> <span data-ttu-id="2ceef-117">Jeśli pakiet został pobrany, "GET" i "OK" są wyświetlane w danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="2ceef-117">If a package is downloaded, "GET" and "OK" appear in the output.</span></span> <span data-ttu-id="2ceef-118">NuGet dzienniki ruchu http na normalne poziom szczegółowości.</span><span class="sxs-lookup"><span data-stu-id="2ceef-118">NuGet logs http traffic on normal verbosity.</span></span>

   - <span data-ttu-id="2ceef-119">Jeśli pakiet nie może pomyślnie uzyskana z dowolnymi źródłami, instalacja nie powiedzie się na tym etapie ze względu na błąd taki jak [NU1103](../reference/errors-and-warnings/NU1103.md).</span><span class="sxs-lookup"><span data-stu-id="2ceef-119">If the package cannot be successfully acquired from any sources, installation fails at this point with an error such as [NU1103](../reference/errors-and-warnings/NU1103.md).</span></span> <span data-ttu-id="2ceef-120">Uwaga tego błędy z `nuget.exe` Pokaż polecenia tylko ostatni źródło opcja jest zaznaczona, ale oznacza, że pakiet nie była dostępna z dowolnego źródła.</span><span class="sxs-lookup"><span data-stu-id="2ceef-120">Note that errors from `nuget.exe` commands show only the last source checked, but implies that the package wasn't available from any source.</span></span>

   <span data-ttu-id="2ceef-121">Podczas uzyskiwania pakietu, mogą mieć zastosowanie kolejność źródeł w konfiguracji NuGet:</span><span class="sxs-lookup"><span data-stu-id="2ceef-121">When acquiring the package, the order of sources in the NuGet configuration may apply:</span></span>

   - <span data-ttu-id="2ceef-122">NuGet sprawdza źródła lokalnego folderu i udziałów sieciowych przed sprawdzeniem źródła HTTP.</span><span class="sxs-lookup"><span data-stu-id="2ceef-122">NuGet checks sources local folder and network shares before checking HTTP sources.</span></span>

3. <span data-ttu-id="2ceef-123">Zapisz kopię pakietu oraz inne informacje w *pamięci podręcznej http* folderu zgodnie z opisem na [Zarządzanie globalnymi pakietami i folderami pamięci podręcznej](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="2ceef-123">Save a copy of the package and other information in the *http-cache* folder as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

4. <span data-ttu-id="2ceef-124">Jeśli pobrane, należy zainstalować pakiet w poszczególnych użytkowników *globalnymi pakietami* folderu.</span><span class="sxs-lookup"><span data-stu-id="2ceef-124">If downloaded, install the package into the per-user *global-packages* folder.</span></span> <span data-ttu-id="2ceef-125">NuGet tworzy osobny podfolder dla każdego identyfikatora pakietu, a następnie tworzy oddzielne podfoldery dla każdej zainstalowanej wersji pakietu.</span><span class="sxs-lookup"><span data-stu-id="2ceef-125">NuGet creates a subfolder for each package identifier, then creates subfolders for each installed version of the package.</span></span>

5. <span data-ttu-id="2ceef-126">NuGet instaluje zależności pakietów, zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="2ceef-126">NuGet installs package dependencies as required.</span></span> <span data-ttu-id="2ceef-127">Ten proces może aktualizować wersje pakietów w procesie, zgodnie z opisem w [rozpoznawania zależności](../consume-packages/dependency-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="2ceef-127">This process might update package versions in the process, as described in [Dependency Resolution](../consume-packages/dependency-resolution.md).</span></span>

6. <span data-ttu-id="2ceef-128">Aktualizacja innych projektów, plików i folderów:</span><span class="sxs-lookup"><span data-stu-id="2ceef-128">Update other project files and folders:</span></span>

    - <span data-ttu-id="2ceef-129">W przypadku projektów przy użyciu funkcji PackageReference, zaktualizuj wykres zależności pakietu, które są przechowywane w `obj/project.assets.json`.</span><span class="sxs-lookup"><span data-stu-id="2ceef-129">For projects using PackageReference, update the package dependency graph stored in `obj/project.assets.json`.</span></span> <span data-ttu-id="2ceef-130">Zawartość pakietu, sami nie są kopiowane do dowolnego folderu projektu.</span><span class="sxs-lookup"><span data-stu-id="2ceef-130">Package contents themselves are not copied into any project folder.</span></span>
    - <span data-ttu-id="2ceef-131">Aktualizacja `app.config` i/lub `web.config` Jeśli korzysta z pakietu [źródła i konfiguracji pliku przekształcenia](../create-packages/source-and-config-file-transformations.md).</span><span class="sxs-lookup"><span data-stu-id="2ceef-131">Update `app.config` and/or `web.config` if the package uses [source and config file transformations](../create-packages/source-and-config-file-transformations.md).</span></span>

7. <span data-ttu-id="2ceef-132">(Tylko visual Studio) Wyświetl plik readme pakietu, jeśli to możliwe, w oknie programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2ceef-132">(Visual Studio only) Display the package's readme file, if available, in a Visual Studio window.</span></span>

<span data-ttu-id="2ceef-133">Korzystaj z usługi produktywne kodowanie dzięki pakiety NuGet!</span><span class="sxs-lookup"><span data-stu-id="2ceef-133">Enjoy your productive coding with NuGet packages!</span></span>
